<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Harjoitukset 2: Tehtävä 3</title>
</head>

<body>
    <h1>Taulukon [11, 22, 33, 44] läpikäyntiä</h1>
    <p>tulostamista ja keskeisten suureiden laskemista anonyymeillä funktioilla</p>
    <hr>

    <div id="results"></div>

    <script>
        /* 
            Toteuta funktiot arraySum, arrayAvg, arrayCount ja printArray 
            lambda-merkittyinä funktioina siten että ainoastaan 
            printArray-funktiossa on sallittua käyttää return-lausetta 
            näkyviin kirjoitettuna. Käytä arraySum-funktiossa 
            Array.prototype.reduce()-metodia. Muodosta lisäksi 
            JavaScriptillä näytettäväksi generoitava sisältö 
            Template-literaalina sisalto-nimiseen muuttujaan, jonka 
            liität sitten näytettäväksi P-elementtiin. Ohessa runkoa 
            tämän jälkimmäisen kohdan ratkaisemiseksi.

            let sisalto = ` 
                Alkiot ovat:<br><br>
                ... 
            `; 
             para.innerHTML   = sisalto; 
            */
        let sisalto;

        function writeResults() {
            const luvut = [11, 22, 33, 44];

            let printArray = (luvut) => {
                let i;
                taulukko = "<p>";
                for (i = 0; i < luvut.length; i++) {
                    taulukko += "taulukko[" + i + "] = " + luvut[i] + "<br>";
                }
                taulukko += "</p>";
                return taulukko;
            };

            // taulukon arvojen summa
            const arraySum = (accumulator, currentValue) => accumulator + currentValue;

            // taulukon arvojen lukumäärä
            let arrayCount = (luvut) => luvut.length;

            // taulukon arvojen keskiarvo
            let arrayAvg = (luvut) => (luvut[0] + luvut[1] + luvut[2] + luvut[3]) / luvut.length;

            let taulukko = "";
            let lkm = arrayCount(luvut);
            let summa = (luvut.reduce(arraySum));
            let ka = arrayAvg(luvut);

            printArray(luvut);

            let p = document.getElementById("results");
            p.innerHTML = "<p>Alkiot ovat:<br>" + taulukko +
                "<br>Lukumäärä on: " + lkm +
                "<br>Summa on: " + summa +
                "<br>Keskiarvo on: " + ka + "</p>";
            return p;
        };

        window.onload = writeResults();
    </script>
</body>

</html>